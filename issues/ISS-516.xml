<!-- 
RSS generated by JIRA (7.3.0#73011-sha1:3c73d0e0b5ea20e2128531b9adf9b0585752b90a) at Tue Feb 06 20:51:47 UTC 2018

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
http://jira.perfect.org:8080/si/jira.issueviews:issue-xml/ISS-516/ISS-516.xml?field=key&amp;field=summary
-->
<rss version="0.92" >
<channel>
    <title>PerfectlySoft JIRA</title>
    <link>http://jira.perfect.org:8080</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-us</language>    <build-info>
        <version>7.3.0</version>
        <build-number>73011</build-number>
        <build-date>03-01-2017</build-date>
    </build-info>

<item>
            <title>[ISS-516] StORM (Postgres) Cannot save/update optional/nil values</title>
                <link>http://jira.perfect.org:8080/browse/ISS-516</link>
                <project id="10007" key="ISS">Issues</project>
                    <description>&lt;p&gt;I have several properties on my model class that are optional, to be consistent with the Postgres table. The default behavior of PG StORM is to create text fields in PG on setup(), and at least null values are passed as empty strings. You run into issues when you have something like &lt;/p&gt;

&lt;p&gt;&lt;tt&gt;var score: Int?&lt;/tt&gt;&lt;/p&gt;

&lt;p&gt;That needs to be saved/updated. It&apos;s possible to create a new record, but updating is impossible if you wish to then remove that value from &lt;tt&gt;score&lt;/tt&gt;.&lt;/p&gt;

&lt;p&gt;I don&#8217;t know if there needs to be some kind of &lt;tt&gt;Null&lt;/tt&gt; type that gets converted right at db.exec, or something else, but the problem I see is that The full PGStORM stack is expecting non-optional values of the correct type. The &lt;tt&gt;exec(statement, params)&lt;/tt&gt; function in PostGresStORM.swift requires the params to be non-optional &lt;tt&gt;String&lt;/tt&gt;, though the actual PGConnection.exec will take &lt;tt&gt;params: &lt;span class=&quot;error&quot;&gt;&amp;#91;Any?&amp;#93;&lt;/span&gt;&lt;/tt&gt;&lt;/p&gt;

&lt;p&gt;If I were to pass an &lt;em&gt;empty string&lt;/em&gt; into &lt;tt&gt;update()&lt;/tt&gt; (because I have no other choice but to pass a non-optional value and an empty string is the closest you get), Postgres will emit an error such as this: &lt;tt&gt;&lt;span class=&quot;error&quot;&gt;&amp;#91;INFO&amp;#93;&lt;/span&gt; Error msg: ERROR:  invalid input syntax for integer: &quot;&quot;&lt;/tt&gt;. &lt;/p&gt;

&lt;p&gt;You can test this by using an existing PG StORM model and adding an additional optional type property, and see how it behaves on various CRUD actions.&lt;/p&gt;</description>
                <environment></environment>
        <key id="11305">ISS-516</key>
            <summary>StORM (Postgres) Cannot save/update optional/nil values</summary>
                <type id="10102" iconUrl="http://jira.perfect.org:8080/secure/viewavatar?size=xsmall&amp;avatarId=10303&amp;avatarType=issuetype">Bug</type>
                                            <priority id="1" iconUrl="http://jira.perfect.org:8080/images/icons/priorities/highest.svg">Highest</priority>
                        <status id="1" iconUrl="http://jira.perfect.org:8080/images/icons/statuses/open.png" description="The issue is open and ready for the assignee to start work on it.">Open</status>
                    <statusCategory id="2" key="new" colorName="blue-gray"/>
                                    <resolution id="-1">Unresolved</resolution>
                                        <assignee username="jono">Jonathan Guthrie</assignee>
                                    <reporter username="mistercameron@gmail.com">Cameron Perry</reporter>
                            <created>Fri, 18 Aug 2017 02:28:20 -0400</created>
                <updated>Tue, 29 Aug 2017 14:55:45 -0400</updated>
                                                                            <component>Other</component>
                    <component>Perfect Core Library</component>
                        <due></due>
                            <votes>1</votes>
                                    <watches>1</watches>
                                                                <comments>
                            <comment id="11813" author="mistercameron@gmail.com" created="Fri, 18 Aug 2017 02:30:04 -0400"  >&lt;p&gt;As it stands, this issue is a blocker for me. I feel like this is a pretty critical piece of missing functionality, given Swift&apos;s use of optionals. My data model does not lend well to using default values in some of these properties - they are null for a reason.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_10400" key="com.atlassian.servicedesk.approvals-plugin:sd-approvals">
                        <customfieldname>Approvals</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_10500" key="com.atlassian.servicedesk:sd-customer-organizations">
                        <customfieldname>Organizations</customfieldname>
                        <customfieldvalues>
                                
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_10005" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0040f:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_10101" key="com.atlassian.servicedesk:sd-request-participants">
                        <customfieldname>Request participants</customfieldname>
                        <customfieldvalues>
                                
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                <customfield id="customfield_10104" key="com.atlassian.servicedesk:sd-sla-field">
                        <customfieldname>Time to resolution</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>
</channel>
</rss>