<!-- 
RSS generated by JIRA (7.3.0#73011-sha1:3c73d0e0b5ea20e2128531b9adf9b0585752b90a) at Tue Feb 06 20:48:01 UTC 2018

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
http://jira.perfect.org:8080/si/jira.issueviews:issue-xml/ISS-46/ISS-46.xml?field=key&amp;field=summary
-->
<rss version="0.92" >
<channel>
    <title>PerfectlySoft JIRA</title>
    <link>http://jira.perfect.org:8080</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-us</language>    <build-info>
        <version>7.3.0</version>
        <build-number>73011</build-number>
        <build-date>03-01-2017</build-date>
    </build-info>

<item>
            <title>[ISS-46] PerfectLib compiled, but PerfectServer failed</title>
                <link>http://jira.perfect.org:8080/browse/ISS-46</link>
                <project id="10007" key="ISS">Issues</project>
                    <description>&lt;p&gt;Running on Ubuntu 14.04&lt;/p&gt;

&lt;p&gt;As per the subject, PerfectLib compiled without error, but I get errors when trying to compile the Server.  Error is as follows:&lt;/p&gt;

&lt;p&gt;clang++ -L/usr/local/swift-2.2/usr/lib/swift/linux -lFoundation -lswiftCore -lswiftGlibc /usr/local/lib/PerfectLib.so -Xlinker -rpath -Xlinker /usr/local/swift-2.2/usr/lib/swift/linux perfectserverfcgi.o -o perfectserverfcgi&lt;br/&gt;
/usr/local/lib/PerfectLib.so: undefined reference to `u_isalnum_55&apos;&lt;br/&gt;
/usr/local/lib/PerfectLib.so: undefined reference to `udat_format_55&apos;&lt;br/&gt;
/usr/local/lib/PerfectLib.so: undefined reference to `udat_close_55&apos;&lt;br/&gt;
/usr/local/lib/PerfectLib.so: undefined reference to `u_isWhitespace_55&apos;&lt;br/&gt;
/usr/local/lib/PerfectLib.so: undefined reference to `udat_open_55&apos;&lt;br/&gt;
/usr/local/lib/PerfectLib.so: undefined reference to `u_errorName_55&apos;&lt;br/&gt;
/usr/local/lib/PerfectLib.so: undefined reference to `ucal_getNow_55&apos;&lt;br/&gt;
/usr/local/lib/PerfectLib.so: undefined reference to `udat_parse_55&apos;&lt;br/&gt;
/usr/local/lib/PerfectLib.so: undefined reference to `u_isdigit_55&apos;&lt;br/&gt;
clang: error: linker command failed with exit code 1 (use -v to see invocation)&lt;br/&gt;
make: &lt;em&gt;*&lt;/em&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;perfectserverfcgi&amp;#93;&lt;/span&gt; Error 1&lt;/p&gt;

&lt;p&gt;Thanks&lt;/p&gt;</description>
                <environment></environment>
        <key id="10474">ISS-46</key>
            <summary>PerfectLib compiled, but PerfectServer failed</summary>
                <type id="10109" iconUrl="http://jira.perfect.org:8080/secure/viewavatar?size=xsmall&amp;avatarId=10304&amp;avatarType=issuetype">Support Request</type>
                                                <status id="6" iconUrl="http://jira.perfect.org:8080/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="-1">Unresolved</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="justmark">Mark Windrim</reporter>
                            <created>Thu, 10 Dec 2015 15:14:47 -0500</created>
                <updated>Mon, 14 Dec 2015 09:24:21 -0500</updated>
                                                                                <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                <comments>
                            <comment id="10315" author="kjessup" created="Thu, 10 Dec 2015 15:46:25 -0500"  >&lt;p&gt;Try the following and let me know what you see:&lt;br/&gt;
sudo updatedb&lt;br/&gt;
locate libicui18n.so&lt;/p&gt;

&lt;p&gt;And give this a try:&lt;br/&gt;
sudo apt-get install libicu-dev&lt;/p&gt;

&lt;p&gt;So far we have only built on 15.10. I&apos;ll start a 14.04 install now.&lt;/p&gt;</comment>
                            <comment id="10316" author="justmark" created="Thu, 10 Dec 2015 16:07:50 -0500"  >&lt;p&gt;Thanks for the prompt reply!&lt;/p&gt;

&lt;p&gt;libicu-dev was already installed.  Output of locate:&lt;/p&gt;

&lt;p&gt;$ locate libicui18n.so&lt;br/&gt;
/usr/lib/x86_64-linux-gnu/libicui18n.so&lt;br/&gt;
/usr/lib/x86_64-linux-gnu/libicui18n.so.52&lt;br/&gt;
/usr/lib/x86_64-linux-gnu/libicui18n.so.52.1&lt;/p&gt;
</comment>
                            <comment id="10317" author="kjessup" created="Thu, 10 Dec 2015 16:24:00 -0500"  >&lt;p&gt;Ok, I see. Unfortunately, ICU appends the version number onto each function name. The ICU which gets installed on 15.10 is 5.5, thus the _55 at the end of the undefined functions.&lt;/p&gt;

&lt;p&gt;I&apos;ll have to consider how to better handle this without forcing people to have to build ICU themselves as a dependency.&lt;/p&gt;</comment>
                            <comment id="10318" author="justmark" created="Thu, 10 Dec 2015 16:26:16 -0500"  >&lt;p&gt;No worries, I can spin up a 15.10 instance.  Its all good - thanks for jumping on this so quickly.&lt;/p&gt;</comment>
                            <comment id="10319" author="c0deh4cker" created="Fri, 11 Dec 2015 18:42:33 -0500"  >&lt;p&gt;I looked into this issue as I&apos;m also hitting it on 14.04. It seems that Ubuntu is one of the only platforms where the libicu package is built with symbol renaming enabled, and the maintainer&apos;s reasoning behind this decision is discussed here: &lt;a href=&quot;http://sourceforge.net/p/icu/mailman/icu-design/thread/20080618182302.2012566511.qww314159@motoko.argon.local/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://sourceforge.net/p/icu/mailman/icu-design/thread/20080618182302.2012566511.qww314159@motoko.argon.local/&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;I believe that the best solution for this issue is to include libicu sources and build a libicu.a as part of the build process for PerfectLib (and is linked into PerfectLib.so). I agree that it would be nice to avoid this. However, it seems that would cause more hassle than it&apos;s worth. Plus, relying on the system&apos;s libicu will likely cause instability seeing as the developers are so uncertain of the ABI compatibility that they added this crazy per-version symbol renaming &quot;feature&quot;.&lt;/p&gt;</comment>
                            <comment id="10320" author="c0deh4cker" created="Sat, 12 Dec 2015 02:00:29 -0500"  >&lt;p&gt;Continued looking into the issue, and here&apos;s what I found. The renaming in libicu comes from &lt;a href=&quot;https://github.com/PerfectlySoft/Perfect/blob/12b0729c4e7f679d03c42565178c35bd5f2bd529/PerfectLib/linked/ICU/unicode/urename.h&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;urename.h&lt;/a&gt;. Every symbol is &lt;tt&gt;#define}}ed to include the version suffix, for example it &lt;a href=&quot;https://github.com/PerfectlySoft/Perfect/blob/12b0729c4e7f679d03c42565178c35bd5f2bd529/PerfectLib/linked/ICU/unicode/urename.h#L817&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;defines &lt;tt&gt;udat_open&lt;/tt&gt; to be &lt;tt&gt;udat_open_55&lt;/tt&gt;&lt;/a&gt; for libicu with major version 55. Therefore, C code using libicu is not subject to these naming issues, as you can and should just use the raw defines without the version suffix in C. This only works if we use the system&apos;s ICU headers, however, as they will have the macros providing the correct version suffix. This leads me to believe that the best approach is to provide a C function wrapper for any renamed libicu methods that should be used from Swift code (for example, {{udat_open_wrapper&lt;/tt&gt;), and to rely on the system&apos;s libicu headers.&lt;/p&gt;

&lt;p&gt;I did a bit of searching, and there aren&apos;t too many references to these renamed symbols in PerfectLib. Here&apos;s a summary of the references I found to renamed symbols in libicu from Swift code:&lt;/p&gt;

&lt;ul&gt;
	&lt;li&gt;&lt;a href=&quot;https://github.com/PerfectlySoft/Perfect/blob/e319ecfde078c2a08417eb1887d679a1d13827d3/PerfectLib/SessionManager.swift&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;SessionManager.swift&lt;/a&gt;&lt;/li&gt;
	&lt;li&gt;Imported function &lt;a href=&quot;https://github.com/PerfectlySoft/Perfect/blob/e319ecfde078c2a08417eb1887d679a1d13827d3/PerfectLib/SessionManager.swift#L28&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;&lt;tt&gt;ICU.ucal_getNow_55&lt;/tt&gt;&lt;/a&gt;, but never used (looks like the code was later changed to instead use &lt;a href=&quot;https://github.com/PerfectlySoft/Perfect/blob/e319ecfde078c2a08417eb1887d679a1d13827d3/PerfectLib/SessionManager.swift#L225&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;&lt;tt&gt;ICU.getNow()&lt;/tt&gt;&lt;/a&gt;)&lt;/li&gt;
	&lt;li&gt;&lt;a href=&quot;https://github.com/PerfectlySoft/Perfect/blob/e319ecfde078c2a08417eb1887d679a1d13827d3/PerfectLib/ICU.swift&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;ICU.swift&lt;/a&gt;&lt;/li&gt;
	&lt;li&gt;&lt;a href=&quot;https://github.com/PerfectlySoft/Perfect/blob/e319ecfde078c2a08417eb1887d679a1d13827d3/PerfectLib/ICU.swift#L34&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;&lt;tt&gt;u_isWhitespace_55&lt;/tt&gt;&lt;/a&gt;&lt;/li&gt;
	&lt;li&gt;&lt;a href=&quot;https://github.com/PerfectlySoft/Perfect/blob/e319ecfde078c2a08417eb1887d679a1d13827d3/PerfectLib/ICU.swift#L38&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;&lt;tt&gt;u_isdigit_55&lt;/tt&gt;&lt;/a&gt;&lt;/li&gt;
	&lt;li&gt;&lt;a href=&quot;https://github.com/PerfectlySoft/Perfect/blob/e319ecfde078c2a08417eb1887d679a1d13827d3/PerfectLib/ICU.swift#L42&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;&lt;tt&gt;u_isalnum_55&lt;/tt&gt;&lt;/a&gt;&lt;/li&gt;
	&lt;li&gt;&lt;a href=&quot;https://github.com/PerfectlySoft/Perfect/blob/e319ecfde078c2a08417eb1887d679a1d13827d3/PerfectLib/ICU.swift#L59&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;&lt;tt&gt;ucal_getNow_55&lt;/tt&gt;&lt;/a&gt;&lt;/li&gt;
	&lt;li&gt;&lt;a href=&quot;https://github.com/PerfectlySoft/Perfect/blob/e319ecfde078c2a08417eb1887d679a1d13827d3/PerfectLib/ICU.swift#L76&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;&lt;tt&gt;u_errorName_55&lt;/tt&gt;&lt;/a&gt;&lt;/li&gt;
	&lt;li&gt;&lt;a href=&quot;https://github.com/PerfectlySoft/Perfect/blob/e319ecfde078c2a08417eb1887d679a1d13827d3/PerfectLib/ICU.swift#L109&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;&lt;tt&gt;udat_open_55&lt;/tt&gt;&lt;/a&gt; &lt;a href=&quot;https://github.com/PerfectlySoft/Perfect/blob/e319ecfde078c2a08417eb1887d679a1d13827d3/PerfectLib/ICU.swift#L153&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;another&lt;/a&gt;&lt;/li&gt;
	&lt;li&gt;&lt;a href=&quot;https://github.com/PerfectlySoft/Perfect/blob/e319ecfde078c2a08417eb1887d679a1d13827d3/PerfectLib/ICU.swift#L115&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;&lt;tt&gt;udat_close_55&lt;/tt&gt;&lt;/a&gt; &lt;a href=&quot;https://github.com/PerfectlySoft/Perfect/blob/e319ecfde078c2a08417eb1887d679a1d13827d3/PerfectLib/ICU.swift#L159&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;another&lt;/a&gt;&lt;/li&gt;
	&lt;li&gt;&lt;a href=&quot;https://github.com/PerfectlySoft/Perfect/blob/e319ecfde078c2a08417eb1887d679a1d13827d3/PerfectLib/ICU.swift#L118&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;&lt;tt&gt;udat_parse_55&lt;/tt&gt;&lt;/a&gt;&lt;/li&gt;
	&lt;li&gt;&lt;a href=&quot;https://github.com/PerfectlySoft/Perfect/blob/e319ecfde078c2a08417eb1887d679a1d13827d3/PerfectLib/ICU.swift#L163&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;&lt;tt&gt;udat_format_55&lt;/tt&gt;&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;So these listed functions need to be wrapped, and the system&apos;s headers need to be used instead of providing headers from a specific version.&lt;/p&gt;

&lt;p&gt;I can continue working on this issue and submit a pull request if you&apos;d like.&lt;/p&gt;</comment>
                            <comment id="10321" author="c0deh4cker" created="Sat, 12 Dec 2015 02:19:10 -0500"  >&lt;p&gt;Oh, OS X doesn&apos;t provide headers for its &lt;tt&gt;/usr/lib/libicucore.dylib&lt;/tt&gt; (which &lt;em&gt;does&lt;/em&gt; have all the functions we need). How fun.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_10400" key="com.atlassian.servicedesk.approvals-plugin:sd-approvals">
                        <customfieldname>Approvals</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_10200" key="com.atlassian.jira.plugin.system.customfieldtypes:textfield">
                        <customfieldname>External issue ID</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>32</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_10500" key="com.atlassian.servicedesk:sd-customer-organizations">
                        <customfieldname>Organizations</customfieldname>
                        <customfieldvalues>
                                
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_10005" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i000mf:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_10101" key="com.atlassian.servicedesk:sd-request-participants">
                        <customfieldname>Request participants</customfieldname>
                        <customfieldvalues>
                                
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                <customfield id="customfield_10104" key="com.atlassian.servicedesk:sd-sla-field">
                        <customfieldname>Time to resolution</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>
</channel>
</rss>